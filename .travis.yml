language: node_js
node_js:
- "6"
- "6.1"

language: java
jdk:
  - oraclejdk8

before_install:
- sudo apt-get update && sudo apt-get --reinstall install -qq language-pack-en language-pack-de
- rm -rf ~/.linuxbrew
- yes | ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/linuxbrew/go/install)"
- export PATH="$HOME/.linuxbrew/bin:$PATH"
- export MANPATH="$HOME/.linuxbrew/share/man:$MANPATH"
- export INFOPATH="$HOME/.linuxbrew/share/info:$INFOPATH"
- brew install jdk

install:
- npm install

script:
- webpack --env production
- eslint . --cache
- NODE_ENV=test jest
- nightwatch app/e2e_tests/ --verbose
